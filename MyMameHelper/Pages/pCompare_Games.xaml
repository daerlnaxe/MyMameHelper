<Page x:Class="MyMameHelper.Pages.pCompare_Games"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:MyMameHelper.Pages"

      xmlns:commands ="clr-namespace:MyMameHelper.Commands"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="pCompare_Games">
    <Page.Resources>
        <Style TargetType="Button">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="5"/>
        </Style>
        <Style TargetType="ListView">
            <Setter Property="Margin" Value="5"/>
        </Style>
    </Page.Resources>
    <Page.CommandBindings>
        <CommandBinding Command="local:pCompare_Games.Left_LoadFileCmd" Executed="Left_LoadFile"/>
        <CommandBinding Command="local:pCompare_Games.Right_LoadFileCmd" Executed="Right_LoadFile"/>
        <CommandBinding Command="local:pCompare_Games.Missing_LeftCmd" Executed="Left_Compare" CanExecute="CEx_Both"/>
        <CommandBinding Command="local:pCompare_Games.Missing_RightCmd" Executed="Right_Compare" CanExecute="CEx_Both"/>
        <CommandBinding Command="local:pCompare_Games.Clear_LeftCmd" Executed="Clear_Left" CanExecute="CEx_Left"/>
        <CommandBinding Command="local:pCompare_Games.Clear_RightCmd" Executed="Clear_Right" CanExecute="CEx_Right"/>
        <CommandBinding Command="local:pCompare_Games.Clear_DiffCmd" Executed="Clear_Diff" CanExecute="CEx_Diff"/>
        <CommandBinding Command="commands:UICommands.WorkCmd" Executed="Work_WithData" CanExecute="CEx_Diff"/>
    </Page.CommandBindings>

    <DockPanel>


        <Grid>
            <Grid.RowDefinitions>

                <RowDefinition Height="50*"/>

                <RowDefinition Height="25"/>
                <RowDefinition Height="75*"/>
                <RowDefinition Height="5*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100*"/>
                <ColumnDefinition Width="100*"/>

                <ColumnDefinition Width="26*"/>
                <ColumnDefinition Width="100*"/>
                <ColumnDefinition Width="100*"/>
            </Grid.ColumnDefinitions>
            <!-- Liste de gauche -->
            <Border BorderThickness="1,1,1,1" CornerRadius="5" BorderBrush="Black"  Padding="5" Grid.ColumnSpan="2">
                <DockPanel>

                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="80,0,0,0" >
                        <Label Content="Left Collection:" />
                        <Label Content="{Binding Left_Games.Count}" />
                    </StackPanel>
                    <StackPanel DockPanel.Dock="Left" HorizontalAlignment="Left" VerticalAlignment="Top">
                        <Button Content="Load File..." HorizontalAlignment="Left" VerticalAlignment="Top" Command="local:pCompare_Games.Left_LoadFileCmd"/>
                        <Button Content="Compare..." Command="local:pCompare_Games.Missing_LeftCmd"/>
                        <Button Content="Clear" Command="local:pCompare_Games.Clear_LeftCmd"/>
                    </StackPanel>
                    <DataGrid Grid.ColumnSpan="3" ItemsSource="{Binding Left_Games}" AutoGenerateColumns="False" IsReadOnly="True" >
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Archive Name" Binding="{Binding Archive_Name}" />
                            <DataGridTextColumn Header="Game Name" Binding="{Binding Game_Name}" />
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </Border>

            <!-- Liste de droite -->
            <Border BorderThickness="1,1,1,1" CornerRadius="5" BorderBrush="Black"  Padding="5" Grid.ColumnSpan="2" Grid.Column="3">

                <DockPanel Grid.Column="3" Grid.ColumnSpan="2">
                    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                        <Label Content="Right Collection:"/>
                        <Label Content="{Binding Right_Games.Count}" Grid.Column="1" Grid.Row="3"/>
                    </StackPanel>
                    <StackPanel DockPanel.Dock="Right" HorizontalAlignment="Left" VerticalAlignment="Top">
                        <Button Content="Load File..." HorizontalAlignment="Left" VerticalAlignment="Top" Command="local:pCompare_Games.Right_LoadFileCmd"/>
                        <Button Content="Compare..." Command="local:pCompare_Games.Missing_RightCmd"/>
                        <Button Content="Clear" Command="local:pCompare_Games.Clear_RightCmd"/>
                    </StackPanel>
                    <DataGrid ItemsSource="{Binding Right_Games}" Grid.Column="4" Grid.ColumnSpan="2" AutoGenerateColumns="False" Grid.Row="1" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Archive Name" Binding="{Binding Archive_Name}" />
                            <DataGridTextColumn Header="Game Name" Binding="{Binding Game_Name}" />
                        </DataGrid.Columns>

                    </DataGrid>
                </DockPanel>
            </Border>

            <!-- Liste du bas -->
            <Border BorderThickness="1,1,1,1" CornerRadius="5" BorderBrush="Black"  Padding="5" Grid.Row="2" Grid.ColumnSpan="3" Grid.Column="1" Margin="13,0,13,0">

                <DockPanel  >
                    <!-- Panneau du haut -->
                    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                        <Label Content="Difference:"/>
                        <Label Content="{Binding Diff_Games.Count}"/>
                    </StackPanel>
                    <!-- Panneau du bas -->
                    <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Center">
                        <Button Content="Clear"/>
                        <Button Content="Work" Command="commands:UICommands.WorkCmd"/>
                    </StackPanel>
                    <!-- Centre -->
                    <DataGrid ItemsSource="{Binding Diff_Games}" Grid.ColumnSpan="4" Grid.Row="4" Grid.Column="2" AutoGenerateColumns="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Archive Name" Binding="{Binding Archive_Name}"/>
                            <DataGridTextColumn Header="Game Name" Binding="{Binding Game_Name}"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </Border>
        </Grid>



    </DockPanel>
</Page>
